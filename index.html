<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Gold Blessing — Emerald Luxury Collection</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Crimson+Text:wght@400;600;700&display=swap');
    
    * { margin:0; padding:0; box-sizing:border-box; }
    
    body{
      font-family: 'Crimson Text', 'Georgia', serif;
      background: linear-gradient(135deg, #0a1f1f 0%, #1a3333 50%, #0d2626 100%);
      min-height:100vh; 
      padding:20px;
      display:flex; 
      justify-content:center; 
      align-items:center;
      overflow-x:hidden;
    }

    /* ===== Rotating Text with Emerald Glow ===== */
    .rotating-text-container{
      position:fixed; 
      top:50%; 
      left:50%;
      transform:translate(-50%,-50%);
      width:520px; 
      height:520px;
      z-index:3; 
      pointer-events:none;
    }
    
    .rotating-text{ 
      width:100%; 
      height:100%; 
      animation:spin 20s linear infinite; 
    }
    
    @keyframes spin{ 
      from{transform:rotate(0)} 
      to{transform:rotate(360deg)} 
    }

    .center-diamond{
      position:absolute; 
      top:50%; 
      left:50%;
      transform:translate(-50%,-50%);
      font-size:100px; 
      line-height:1;
      animation:pulse 3s ease-in-out infinite;
      filter: drop-shadow(0 0 30px rgba(16, 185, 129, 0.7))
              drop-shadow(0 0 60px rgba(212, 175, 55, 0.4));
    }
    
    @keyframes pulse{
      0%   { transform:translate(-50%,-50%) scale(1); opacity:1; }
      50%  { transform:translate(-50%,-50%) scale(1.15); opacity:.9; }
      100% { transform:translate(-50%,-50%) scale(1); opacity:1; }
    }

    /* ===== Floating Buttons - Emerald & Gold ===== */
    .widget-container,.gold-container,.terms-container,.benefits-container{
      position:fixed; 
      z-index:1000;
    }
    
    .gold-container{ left:30px; bottom:80px; }
    .widget-container{ right:30px; bottom:80px; }
    .terms-container{ left:50%; bottom:30px; transform:translateX(-50%); }
    .benefits-container{ left:50%; bottom:170px; transform:translateX(-50%); }

    .toggle{
      background: linear-gradient(135deg, #10b981 0%, #065f46 50%, #10b981 100%);
      border: 2px solid rgba(212, 175, 55, 0.8);
      padding:12px 20px; 
      min-height:60px;
      border-radius:999px; 
      cursor:pointer;
      box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3),
                  0 5px 15px rgba(212, 175, 55, 0.2);
      display:inline-flex; 
      align-items:center; 
      gap:12px;
      font-family: 'Playfair Display', serif;
      font-size:1.05em; 
      color:#f4e4c1; 
      font-weight:700;
      letter-spacing:1px; 
      text-transform:uppercase;
      transition: all .3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .toggle::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #d4af37, #10b981, #d4af37);
      border-radius: 999px;
      opacity: 0;
      z-index: -1;
      transition: opacity 0.3s ease;
    }
    
    .toggle:hover::before { opacity: 1; }
    .toggle:hover{ 
      transform:translateY(-3px); 
      box-shadow: 0 15px 40px rgba(16, 185, 129, 0.4),
                  0 8px 20px rgba(212, 175, 55, 0.3);
    }
    
    .toggle-emoji{ font-size:1.4em; line-height:1; }
    .toggle-text{ line-height:1; }

    /* ===== Popups - Emerald Luxury ===== */
    .box{
      background: linear-gradient(135deg, #0a1f1f 0%, #1a3333 100%);
      border: 2px solid transparent;
      background-clip: padding-box;
      position: relative;
      border-radius:24px; 
      width:480px; 
      max-height:85vh;
      box-shadow: 0 25px 70px rgba(16, 185, 129, 0.25),
                  0 10px 30px rgba(212, 175, 55, 0.15);
      display:none; 
      position:absolute; 
      bottom:0; 
      overflow-y:auto; 
      z-index:1001;
    }
    
    .box::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      border-radius: 24px;
      padding: 2px;
      background: linear-gradient(135deg, #d4af37, #10b981, #d4af37);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: destination-out;
      mask-composite: exclude;
      z-index: -1;
    }
    
    .box.active{ 
      display:block; 
      animation:slideUp .4s ease; 
    }
    
    @keyframes slideUp{ 
      from{transform:translateY(100%); opacity:0} 
      to{transform:translateY(0); opacity:1} 
    }
    
    .box.right{ right:0; } 
    .box.left{ left:0; } 
    .box.center{ left:50%; transform:translateX(-50%); }

    .box-header{
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(212, 175, 55, 0.1) 100%);
      padding:22px; 
      border-bottom:1px solid rgba(212, 175, 55, 0.3); 
      position:relative;
      border-radius: 22px 22px 0 0;
    }
    
    .box-title{
      font-family: 'Playfair Display', serif;
      background: linear-gradient(135deg, #d4af37, #10b981);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size:1.4em; 
      font-weight:900; 
      text-align:center; 
      letter-spacing:1px;
    }
    
    .close-btn{
      position:absolute; 
      top:18px; 
      right:18px; 
      width:32px; 
      height:32px;
      background: rgba(16, 185, 129, 0.1); 
      border:1px solid #10b981; 
      color:#10b981;
      border-radius:50%; 
      cursor:pointer; 
      font-size:1.3em;
      transition: all 0.3s ease;
      font-family: 'Playfair Display', serif;
    }
    
    .close-btn:hover{ 
      background:#10b981; 
      color:#0a1f1f; 
      transform: rotate(90deg);
    }
    
    .section{ padding:22px; }

    /* ===== Shared Input Styles ===== */
    .input{
      width:100%; 
      padding:14px; 
      margin-bottom:16px;
      background: rgba(10, 31, 31, 0.7); 
      border:1px solid rgba(16, 185, 129, 0.3);
      border-radius:12px; 
      color:#f4e4c1; 
      font-size:1.1em; 
      font-weight:600; 
      text-align:center;
      font-family: 'Crimson Text', serif;
      transition: all 0.3s ease;
    }
    
    .input:focus {
      outline: none;
      border-color: #d4af37;
      box-shadow: 0 0 20px rgba(212, 175, 55, 0.2);
    }
    
    .grid3{ 
      display:grid; 
      grid-template-columns:repeat(3,1fr); 
      gap:10px; 
    }
    
    .btn{
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
      border:1px solid rgba(16, 185, 129, 0.4); 
      color:#10b981; 
      padding:12px; 
      border-radius:10px;
      cursor:pointer; 
      font-size:.95em; 
      text-align:center;
      font-family: 'Playfair Display', serif;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .btn:hover{ 
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.3) 0%, rgba(212, 175, 55, 0.15) 100%);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(16, 185, 129, 0.2);
    }
    
    .card{
      background: linear-gradient(135deg, rgba(10, 31, 31, 0.6) 0%, rgba(16, 185, 129, 0.05) 100%);
      border:1px solid rgba(212, 175, 55, 0.3); 
      border-radius:14px; 
      padding:18px;
      box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
    }
    
    .section-title{ 
      font-family: 'Playfair Display', serif;
      background: linear-gradient(135deg, #d4af37, #10b981);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size:1.05em; 
      font-weight:700; 
      text-align:center; 
      margin-bottom:14px; 
      letter-spacing: 0.5px;
    }
    
    .results{
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.08) 0%, rgba(10, 31, 31, 0.6) 100%);
      border:1px solid rgba(212, 175, 55, 0.3); 
      border-radius:16px; 
      padding:20px; 
      margin:20px 0;
      box-shadow: inset 0 2px 15px rgba(0, 0, 0, 0.4);
    }
    
    .row{ 
      display:flex; 
      justify-content:space-between; 
      padding:10px 0; 
      border-bottom:1px solid rgba(16, 185, 129, 0.1); 
    }
    
    .row:last-child{ border-bottom:none; }
    .row .k{ 
      color:#10b981; 
      font-size:.95em; 
      font-weight: 600;
    }
    .row .v{ 
      color:#d4af37; 
      font-weight:700; 
      font-family: 'Playfair Display', serif;
    }

    /* ===== Fee table ===== */
    .fee-table{ 
      max-height:240px; 
      overflow-y:auto; 
      padding:12px; 
      background: rgba(10, 31, 31, 0.5); 
      border-radius:12px; 
      border: 1px solid rgba(16, 185, 129, 0.2);
    }
    
    .fee-item{ 
      display:grid; 
      grid-template-columns:2fr 1fr 1fr; 
      gap:10px; 
      padding:10px; 
      margin-bottom:8px;
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, transparent 100%); 
      border-radius:8px;
      border: 1px solid rgba(212, 175, 55, 0.15);
    }
    
    .fee-item span:nth-child(1){ 
      color:#10b981; 
      font-weight:600; 
    }
    .fee-item span{ 
      color:rgba(244, 228, 193, 0.9); 
      font-size:.9em; 
    }

    /* ===== Gold Dust with Emerald Tint ===== */
    #tgb-gold-dust{ 
      position:fixed; 
      inset:0; 
      pointer-events:none; 
      z-index:1; 
    }
    
    #tgb-gold-vignette{
      position:fixed; 
      inset:0; 
      pointer-events:none; 
      z-index:2;
      background: radial-gradient(circle at center, transparent 0%, rgba(10, 31, 31, 0.5) 100%);
    }

    /* ===== Terms/Benefits styling ===== */
    .terms-list{ 
      list-style:none; 
      padding-left:12px; 
      margin:0; 
      color:rgba(244, 228, 193, 0.9); 
      font-size: 1.05em;
    }
    
    .terms-list li{ 
      padding:5px 0; 
      font-family: 'Crimson Text', serif;
    }
    
    .terms-sect-title{ 
      font-family: 'Playfair Display', serif;
      background: linear-gradient(135deg, #d4af37, #10b981);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight:700; 
      margin:14px 0 8px; 
      font-size: 1.1em;
    }
    
    .terms-intro{ 
      color:rgba(244, 228, 193, 0.9); 
      text-align:center; 
      margin-bottom:14px; 
      font-size: 1.05em;
      font-family: 'Crimson Text', serif;
    }
    
    .terms-note{
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(212, 175, 55, 0.08) 100%);
      border:1px solid rgba(212, 175, 55, 0.3);
      border-radius:12px; 
      padding:14px; 
      margin-top:14px; 
      color:rgba(244, 228, 193, 0.95); 
      text-align:center;
      font-family: 'Crimson Text', serif;
      font-size: 1.05em;
    }

    /* ===== Gold Calculator specific ===== */
    #goldBox .calculator{
      background: linear-gradient(135deg, #0a1f1f 0%, #1a3333 100%);
      border: 2px solid transparent;
      border-radius: 20px;
      width: 100%;
      position: relative;
    }
    
    #goldBox .calculator::before {
      content: '';
      position: absolute;
      top: -2px; left: -2px; right: -2px; bottom: -2px;
      border-radius: 20px;
      background: linear-gradient(135deg, #d4af37, #10b981);
      z-index: -1;
    }
    
    #goldBox .header{
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(212, 175, 55, 0.1) 100%);
      padding: 18px;
      border-bottom: 1px solid rgba(212, 175, 55, 0.3);
      border-radius: 18px 18px 0 0;
    }
    
    #goldBox .title{ 
      font-family: 'Playfair Display', serif;
      background: linear-gradient(135deg, #d4af37, #10b981);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size:1.3em; 
      font-weight:900; 
      text-align:center; 
    }
    
    #goldBox .content{ padding:20px; }
    
    #goldBox .mode-selector{ margin-bottom:20px; }
    
    #goldBox .mode-label{
      color:#10b981; 
      font-size:.95em; 
      margin-bottom:12px; 
      display:block; 
      text-align:center; 
      font-weight:600;
      font-family: 'Playfair Display', serif;
      letter-spacing: 0.5px;
    }
    
    #goldBox .mode-buttons{ 
      display:grid; 
      grid-template-columns:1fr 1fr 1fr; 
      gap:12px; 
    }
    
    #goldBox .mode-btn{
      padding:14px;
      background: rgba(10, 31, 31, 0.8);
      border:2px solid rgba(16, 185, 129, 0.3);
      color:#10b981;
      border-radius:12px;
      cursor:pointer;
      font-weight:700;
      font-size:.95em;
      transition:all .3s;
      font-family: 'Playfair Display', serif;
    }
    
    #goldBox .mode-btn:hover{
      background: rgba(16, 185, 129, 0.1);
      border-color: rgba(212, 175, 55, 0.5);
    }
    
    #goldBox .mode-btn.active{
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.3) 0%, rgba(212, 175, 55, 0.1) 100%);
      border-color:#d4af37;
      box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
      color: #d4af37;
    }
    
    #goldBox .input-group{ margin-bottom:18px; }
    
    #goldBox .input-label{
      color:#10b981;
      font-size:.95em;
      margin-bottom:10px;
      display:block;
      font-family: 'Playfair Display', serif;
      font-weight: 600;
    }
    
    #goldBox .input-field{
      width:100%;
      padding:16px;
      background: rgba(10, 31, 31, 0.8);
      border:1px solid rgba(16, 185, 129, 0.3);
      border-radius:12px;
      color:#f4e4c1;
      font-size:1.1em;
      font-weight:700;
      text-align:center;
      font-family: 'Crimson Text', serif;
      transition: all 0.3s ease;
    }
    
    #goldBox .input-field:focus{
      outline:none;
      border-color:#d4af37;
      box-shadow: 0 0 15px rgba(212, 175, 55, 0.2);
    }
    
    #goldBox .input-field:disabled{
      opacity:.5;
      cursor:not-allowed;
    }
    
    #goldBox .quick-buttons{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:10px;
      margin-top:12px;
    }
    
    #goldBox .quick-btn{
      padding:10px;
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(212, 175, 55, 0.05) 100%);
      border:1px solid rgba(16, 185, 129, 0.4);
      color:#10b981;
      border-radius:10px;
      cursor:pointer;
      font-size:.9em;
      font-weight:600;
      font-family: 'Playfair Display', serif;
      transition: all 0.3s ease;
    }
    
    #goldBox .quick-btn:hover{
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.3) 0%, rgba(212, 175, 55, 0.15) 100%);
      transform: translateY(-2px);
      color: #d4af37;
    }
    
    #goldBox .result-box{
      background: linear-gradient(135deg, #10b981 0%, #065f46 50%, #10b981 100%);
      border: 2px solid #d4af37;
      border-radius:16px;
      padding:20px;
      margin-top:20px;
      text-align:center;
      box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
    }
    
    #goldBox .result-label{
      color:#f4e4c1;
      font-size:.95em;
      margin-bottom:10px;
      font-weight:600;
      font-family: 'Playfair Display', serif;
      letter-spacing: 1px;
    }
    
    #goldBox .result-value{
      color:#f4e4c1;
      font-size:2.1em;
      font-weight:900;
      margin-bottom:8px;
      font-family: 'Playfair Display', serif;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }
    
    #goldBox .result-formula{
      color:#f4e4c1;
      font-size:1em;
      opacity:.9;
      font-family: 'Crimson Text', serif;
    }
    
    #goldBox .info-box{
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(212, 175, 55, 0.08) 100%);
      border:1px solid rgba(212, 175, 55, 0.3);
      border-radius:12px;
      padding:14px;
      margin-top:18px;
    }
    
    #goldBox .info-title{
      color:#d4af37;
      font-size:.95em;
      margin-bottom:10px;
      text-align:center;
      font-weight:700;
      font-family: 'Playfair Display', serif;
    }
    
    #goldBox .info-text{
      color:rgba(244, 228, 193, 0.9);
      font-size:.85em;
      line-height:1.7;
      text-align:center;
      font-family: 'Crimson Text', serif;
    }

    /* Option Cards - Emerald styling */
    .option-card {
      background: linear-gradient(135deg, rgba(10, 31, 31, 0.8) 0%, rgba(16, 185, 129, 0.05) 100%);
      border: 2px solid rgba(16, 185, 129, 0.3);
      border-radius: 12px;
      padding: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .option-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(16, 185, 129, 0.2);
    }
    
    .option-card.selected {
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(212, 175, 55, 0.1) 100%);
      border-color: #d4af37;
      box-shadow: 0 0 25px rgba(212, 175, 55, 0.3);
    }
    
    .option-card ul li {
      font-family: 'Crimson Text', serif;
      font-size: 0.95em;
      margin-bottom: 4px;
    }

    /* Scrollbar styling */
    .box::-webkit-scrollbar,
    .fee-table::-webkit-scrollbar {
      width: 8px;
    }
    
    .box::-webkit-scrollbar-track,
    .fee-table::-webkit-scrollbar-track {
      background: rgba(10, 31, 31, 0.5);
      border-radius: 10px;
    }
    
    .box::-webkit-scrollbar-thumb,
    .fee-table::-webkit-scrollbar-thumb {
      background: linear-gradient(135deg, #10b981, #d4af37);
      border-radius: 10px;
    }
    
    .box::-webkit-scrollbar-thumb:hover,
    .fee-table::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(135deg, #d4af37, #10b981);
    }

    /* Mobile adjustments */
    @media (max-width:520px){
      .box{ width:calc(100vw - 40px); max-height:85vh; }
      .gold-container{ left:16px; bottom:80px; }
      .widget-container{ right:16px; bottom:80px; }
      .terms-container{ left:50%; bottom:16px; transform:translateX(-50%); }
      .benefits-container{ bottom:150px; }
      .toggle{ min-height:52px; padding:10px 16px; font-size:.95em; }
      .toggle-emoji{ font-size:1.25em; }
      .toggle-text{ font-size:.85em; }
      .rotating-text-container{ width:260px; height:260px; top:40%; }
      .center-diamond{ font-size:80px; }
    }
  </style>
</head>

<body>

  <!-- ===== Rotating Title Ring + Emerald Diamond ===== -->
  <div class="rotating-text-container" aria-hidden="true">
    <svg class="rotating-text" viewBox="0 0 320 320">
      <defs>
        <path id="ring" d="M160,160 m-110,0 a110,110 0 1,1 220,0 a110,110 0 1,1 -220,0"></path>
        <linearGradient id="emeraldGoldShine" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%"   stop-color="#065f46"/>
          <stop offset="25%"  stop-color="#10b981"/>
          <stop offset="50%"  stop-color="#d4af37"/>
          <stop offset="75%"  stop-color="#10b981"/>
          <stop offset="100%" stop-color="#065f46"/>
          <animate attributeName="x1" values="0%;100%" dur="8s" repeatCount="indefinite"/>
          <animate attributeName="x2" values="100%;200%" dur="8s" repeatCount="indefinite"/>
        </linearGradient>
        <filter id="emeraldGlow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="3" result="b1"/>
          <feGaussianBlur in="b1" stdDeviation="4" result="b2"/>
          <feMerge><feMergeNode in="b2"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
      </defs>
      <text filter="url(#emeraldGlow)">
        <textPath href="#ring" fill="url(#emeraldGoldShine)" font-size="24" font-weight="bold"
                  letter-spacing="8" font-family="Playfair Display, serif">
          THE GOLD BLESSING • THE GOLD BLESSING •
        </textPath>
      </text>
    </svg>
    <div class="center-diamond">💎</div>
  </div>

  <!-- ===== Gold Calculator (LEFT) ===== -->
  <div class="gold-container">
    <button class="toggle" id="goldToggle" title="Open Gold Calculator">
      <span class="toggle-emoji">🧮</span><span class="toggle-text">Gold Calculator</span>
    </button>

    <div class="box left" id="goldBox" role="dialog" aria-modal="true" aria-label="Gold Calculator">
      <div class="box-header">
        <button class="close-btn" id="goldClose" aria-label="Close">×</button>
        <div class="box-title">Gold Price Calculator</div>
      </div>

      <div class="section">
        <div class="calculator">
          <div class="header"><h1 class="title">⚖️ Gold Price Calculator</h1></div>
          <div class="content">
            <!-- Mode Selection -->
            <div class="mode-selector">
              <label class="mode-label">SELECT CALCULATION MODE:</label>
              <div class="mode-buttons">
                <button class="mode-btn active" data-mode="total">TOTAL ₱</button>
                <button class="mode-btn" data-mode="weight">WEIGHT</button>
                <button class="mode-btn" data-mode="rate">₱/GRAM</button>
              </div>
            </div>

            <!-- Inputs -->
            <div class="input-group">
              <label class="input-label">Gold Rate (₱ per gram)</label>
              <input type="number" class="input-field" id="rateInput" value="3500" step="1">
            </div>

            <div class="input-group">
              <label class="input-label">Weight (grams)</label>
              <input type="number" class="input-field" id="weightInput" value="10" step="0.1">
              <div class="quick-buttons">
                <button class="quick-btn" data-weight="1">1g</button>
                <button class="quick-btn" data-weight="5">5g</button>
                <button class="quick-btn" data-weight="10">10g</button>
                <button class="quick-btn" data-weight="20">20g</button>
                <button class="quick-btn" data-weight="50">50g</button>
                <button class="quick-btn" data-weight="100">100g</button>
              </div>
            </div>

            <div class="input-group">
              <label class="input-label">Total Price (₱)</label>
              <input type="number" class="input-field" id="totalInput" value="35000" step="1" disabled>
            </div>

            <!-- Result -->
            <div class="result-box">
              <div class="result-label">CALCULATED RESULT</div>
              <div class="result-value" id="resultValue">₱35,000</div>
              <div class="result-formula" id="resultFormula">₱3,500 × 10g = ₱35,000</div>
            </div>

            <!-- Info -->
            <div class="info-box">
              <div class="info-title">💡 How to Use</div>
              <div class="info-text">
                <strong>TOTAL ₱:</strong> Enter rate and weight to calculate total price<br>
                <strong>WEIGHT:</strong> Enter rate and total to calculate grams needed<br>
                <strong>₱/GRAM:</strong> Enter weight and total to calculate rate per gram
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Layaway Calculator (RIGHT) ===== -->
  <div class="widget-container">
    <button class="toggle" id="layToggle" title="Open Layaway Calculator">
      <span class="toggle-emoji" aria-hidden="true">📦</span>
      <span class="toggle-text">Layaway Calculator</span>
    </button>

    <div class="box right" id="layBox" role="dialog" aria-modal="true" aria-label="Layaway Calculator">
      <div class="box-header">
        <button class="close-btn" id="layClose" aria-label="Close">×</button>
        <div class="box-title">Layaway Calculator</div>
      </div>

      <div class="section">
        <input type="number" class="input" id="priceInput" placeholder="Enter Item Price" value="20000">

        <div class="grid3" style="margin-bottom:16px;">
          <button class="btn" data-price="5000">₱5K</button>
          <button class="btn" data-price="10000">₱10K</button>
          <button class="btn" data-price="20000">₱20K</button>
        </div>
        <div class="grid3" style="margin-top:-10px; margin-bottom:20px;">
          <button class="btn" data-price="30000">₱30K</button>
          <button class="btn" data-price="50000">₱50K</button>
          <button class="btn" data-price="100000">₱100K</button>
        </div>

        <div class="card" style="margin-bottom:18px;">
          <div class="section-title">SELECT PAYMENT OPTION</div>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:14px;">
            <div class="option-card selected" data-option="a">
              <div class="section-title" style="margin:0 0 10px 0;">OPTION A</div>
              <ul style="list-style:none; padding:0; margin:0; color:#f4e4c1;">
                <li><strong style="color:#d4af37;">Initial Deposit:</strong> 50% of total amount</li>
                <li><strong style="color:#d4af37;">Service Fee:</strong> 5% of merchandise value</li>
                <li><strong style="color:#d4af37;">Payment Period:</strong> Open-ended</li>
                <li style="background:rgba(16, 185, 129, 0.15); border:1px solid rgba(212, 175, 55, 0.3); padding:6px; border-radius:6px; margin-top:6px;">
                  <strong style="color:#d4af37;">Storage Charges:</strong> FREE for 60 days
                </li>
              </ul>
            </div>

            <div class="option-card" data-option="b">
              <div class="section-title" style="margin:0 0 10px 0;">OPTION B</div>
              <ul style="list-style:none; padding:0; margin:0; color:#f4e4c1;">
                <li><strong style="color:#d4af37;">Initial Deposit:</strong> 20% of total amount</li>
                <li><strong style="color:#d4af37;">Service Fee:</strong> 10% of merchandise value</li>
                <li><strong style="color:#d4af37;">Payment Period:</strong> Open-ended</li>
                <li style="background:rgba(16, 185, 129, 0.15); border:1px solid rgba(212, 175, 55, 0.3); padding:6px; border-radius:6px; margin-top:6px;">
                  <strong style="color:#d4af37;">Storage Charges:</strong> FREE for 60 days
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Payment breakdown -->
        <div class="results">
          <div class="section-title" style="margin-bottom:10px;">PAYMENT BREAKDOWN</div>
          <div class="row"><span class="k">Item Price</span><span class="v" id="itemPrice">₱20,000</span></div>
          <div class="row"><span class="k">Service Fee</span><span class="v" id="serviceFee">₱1,000</span></div>
          <div class="row"><span class="k">Total Contract</span><span class="v" id="totalContract">₱21,000</span></div>
          <div class="row"><span class="k">Down Payment</span><span class="v" id="downPayment">₱10,500</span></div>
          <div class="row"><span class="k">Balance to Pay</span><span class="v" id="balance">₱10,500</span></div>
        </div>

        <!-- Storage fees -->
        <div class="results">
          <div class="section-title" style="margin-bottom:10px;">STORAGE FEES (After 60 Days)</div>
          <div class="row"><span class="k">Daily Storage Rate</span><span class="v" id="dailyRate">₱60</span></div>
          <div class="row"><span class="k">If 30 Days Late</span><span class="v" id="day30Late">₱1,800</span></div>
          <div class="row"><span class="k">If 60 Days Late</span><span class="v" id="day60Late">₱3,600</span></div>
          <div class="row"><span class="k">If 90 Days Late</span><span class="v" id="day90Late">₱5,400</span></div>
        </div>

        <!-- Fee table -->
        <div class="fee-table">
          <div class="fee-item"><span>₱1K - ₱3K</span><span>₱5/day</span><span>₱150/mo</span></div>
          <div class="fee-item"><span>₱3K - ₱5K</span><span>₱10/day</span><span>₱300/mo</span></div>
          <div class="fee-item"><span>₱5K - ₱7.5K</span><span>₱15/day</span><span>₱450/mo</span></div>
          <div class="fee-item"><span>₱7.5K - ₱10K</span><span>₱25/day</span><span>₱750/mo</span></div>
          <div class="fee-item"><span>₱10K - ₱15K</span><span>₱30/day</span><span>₱900/mo</span></div>
          <div class="fee-item"><span>₱15K - ₱20K</span><span>₱45/day</span><span>₱1,350/mo</span></div>
          <div class="fee-item"><span>₱20K - ₱25K</span><span>₱60/day</span><span>₱1,800/mo</span></div>
          <div class="fee-item"><span>₱25K - ₱30K</span><span>₱75/day</span><span>₱2,250/mo</span></div>
          <div class="fee-item"><span>₱30K - ₱40K</span><span>₱90/day</span><span>₱2,700/mo</span></div>
          <div class="fee-item"><span>₱40K - ₱50K</span><span>₱120/day</span><span>₱3,600/mo</span></div>
          <div class="fee-item"><span>₱50K - ₱60K</span><span>₱150/day</span><span>₱4,500/mo</span></div>
          <div class="fee-item"><span>₱60K - ₱75K</span><span>₱180/day</span><span>₱5,400/mo</span></div>
          <div class="fee-item"><span>₱75K - ₱90K</span><span>₱225/day</span><span>₱6,750/mo</span></div>
          <div class="fee-item"><span>₱90K - ₱100K</span><span>₱270/day</span><span>₱8,100/mo</span></div>
          <div class="fee-item"><span>₱100K - ₱200K</span><span>₱300/day</span><span>₱9,000/mo</span></div>
          <div class="fee-item"><span>₱200K+</span><span>₱600/day</span><span>₱18,000/mo</span></div>
        </div>
      </div>

      <!-- Benefits footer -->
      <div class="section" style="padding-top:0;">
        <div class="card" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(212, 175, 55, 0.08) 100%); border:1px solid rgba(212, 175, 55, 0.3);">
          <h4 style="font-family: 'Playfair Display', serif; background: linear-gradient(135deg, #d4af37, #10b981); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-align:center; margin-bottom:10px;">🌹 The Gold Blessing Promise</h4>
          <p style="color:rgba(244, 228, 193, 0.95); text-align:center; margin:0; font-family: 'Crimson Text', serif; font-size: 1.05em;">
            Our layaway service fee is a <strong style="color:#d4af37;">one-time, non-refundable investment</strong> that ensures your jewelry journey is safe, flexible, and worry-free.
          </p>
          <p style="color:#d4af37; font-weight:700; text-align:center; margin:12px 0 0; font-family: 'Playfair Display', serif;">
            👉 Start your layaway today and make your dream jewelry exclusively yours—on your terms.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Layaway Terms (center-bottom) ===== -->
  <div class="terms-container">
    <button class="toggle" id="termsToggle" title="Open Layaway Terms">
      <span class="toggle-emoji" aria-hidden="true">📜</span>
      <span class="toggle-text">Layaway Terms</span>
    </button>

    <div class="box center" id="termsBox" role="dialog" aria-modal="true" aria-label="Layaway Terms & Conditions">
      <div class="box-header">
        <button class="close-btn" id="termsClose" aria-label="Close">×</button>
        <div class="box-title">📜 Layaway Terms & Conditions</div>
      </div>

      <div class="section">
        <p class="terms-intro">
          At <strong style="color:#d4af37;">The Gold Blessing</strong>, we believe in <strong style="color:#d4af37;">clarity, flexibility, and trust</strong>.
          Here are the guidelines that safeguard your layaway journey:
        </p>

        <div class="terms-sect-title">💰 Payment Terms</div>
        <ul class="terms-list">
          <li>• The service fee is non-refundable</li>
          <li>• 60-day grace period from contract date</li>
          <li>• Daily storage fees apply after grace period</li>
          <li>• Partial payments no minimum </li>
        </ul>

        <div class="terms-sect-title">⚠️ Default & Abandonment</div>
        <ul class="terms-list">
          <li>• Storage fees equal to item value</li>
          <li>• No payment for 3 consecutive months</li>
          <li>• Customer cancellation request</li>
          <li>• All deposits forfeited upon abandonment</li>
          <li>• Abandoned merchandise returns to available inventory</li>
        </ul>

        <div class="terms-sect-title">👑 Customer Rights</div>
        <ul class="terms-list">
          <li>• Price protection against upward adjustments</li>
          <li>• Access to payment history and balance inquiry</li>
          <li>• Option to accelerate payment without penalty</li>
        </ul>

        <div class="terms-sect-title">💳 Payment Methods</div>
        <ul class="terms-list">
          <li>💵 Cash payments at store premises</li>
          <li>🏦 Electronic transfers / Bank deposits and transfers</li>
          <li>💳 Credit and debit card payments</li>
        </ul>

        <div class="terms-note">
          ✨ Our layaway program is crafted to give you <strong style="color:#d4af37;">exclusive access, peace of mind, and luxury-level service</strong>—because your dream jewelry deserves nothing less.
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Why Choose Layaway (above terms) ===== -->
  <div class="benefits-container">
    <button class="toggle toggle-benefits" id="benefitsToggle" title="Why Choose Layaway">
      <span class="toggle-emoji" aria-hidden="true">🌟</span>
      <span class="toggle-text">Why Choose Layaway</span>
    </button>

    <div class="box center" id="benefitsBox" role="dialog" aria-modal="true" aria-label="Why Choose Layaway at The Gold Blessing">
      <div class="box-header">
        <button class="close-btn" id="benefitsClose" aria-label="Close">×</button>
        <div class="box-title">🌟 Why Choose Layaway?</div>
      </div>

      <div class="section">
        <p style="color:rgba(244, 228, 193, 0.9); text-align:center; margin-bottom:18px; font-family: 'Crimson Text', serif; font-size: 1.05em;">
          At <strong style="color:#d4af37;">The Gold Blessing</strong>, layaway isn't just about paying in parts—it's about <strong style="color:#d4af37;">peace of mind, exclusivity, and luxury-level service</strong>.
        </p>

        <div class="terms-sect-title">✨ Merchandise Management</div>
        <ul class="terms-list">
          <li>• <strong style="color:#d4af37;">Exclusive Reservation</strong> – Your chosen jewelry is held just for you.</li>
          <li>• <strong style="color:#d4af37;">Price Lock Guarantee</strong> – Secure today's gold rate, shielded from market changes.</li>
          <li>• <strong style="color:#d4af37;">Quality Assurance</strong> – Stored and inspected with utmost care.</li>
        </ul>

        <div class="terms-sect-title">💛 Customer Services</div>
        <ul class="terms-list">
          <li>• <strong style="color:#d4af37;">Flexible Payments</strong> – Partial payments accepted.</li>
          <li>• <strong style="color:#d4af37;">Grace Period Privilege</strong> – Enjoy 60 days of free, secure storage.</li>
        </ul>

        <div class="terms-sect-title">📑 Account Administration</div>
        <ul class="terms-list">
          <li>• <strong style="color:#d4af37;">Seamless Processing</strong> – Multiple safe and convenient channels.</li>
          <li>• <strong style="color:#d4af37;">Real-Time Monitoring</strong> – Track your balance and history anytime.</li>
        </ul>

        <div class="terms-note">
          🌹 <strong>The Gold Blessing Promise</strong><br><br>
          Our layaway service fee is a <strong style="color:#d4af37;">one-time, non-refundable investment</strong> that ensures your jewelry journey is <strong style="color:#d4af37;">safe, flexible, and worry-free</strong>.<br><br>
          👉 <strong>Start your layaway today</strong> and make your dream jewelry exclusively yours—on your terms.
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Gold Dust with Emerald Particles ===== -->
  <canvas id="tgb-gold-dust" aria-hidden="true"></canvas>
  <div id="tgb-gold-vignette" aria-hidden="true"></div>

  <script>
    /* Helpers */
    const peso = n => '₱' + Number(n || 0).toLocaleString('en-PH',{maximumFractionDigits:0});

    /* Open/close: Gold */
    const goldToggle = document.getElementById('goldToggle');
    const goldBox    = document.getElementById('goldBox');
    const goldClose  = document.getElementById('goldClose');
    goldToggle.addEventListener('click', ()=>{ goldBox.classList.add('active'); goldToggle.style.display='none'; });
    goldClose .addEventListener('click', ()=>{ goldBox.classList.remove('active'); goldToggle.style.display='inline-flex'; });

    /* Open/close: Layaway */
    const layToggle = document.getElementById('layToggle');
    const layBox    = document.getElementById('layBox');
    const layClose  = document.getElementById('layClose');
    layToggle.addEventListener('click', ()=>{ layBox.classList.add('active'); layToggle.style.display='none'; });
    layClose .addEventListener('click', ()=>{ layBox.classList.remove('active'); layToggle.style.display='inline-flex'; });

    /* Open/close: Terms */
    const termsToggle = document.getElementById('termsToggle');
    const termsBox    = document.getElementById('termsBox');
    const termsClose  = document.getElementById('termsClose');
    termsToggle.addEventListener('click', ()=>{ termsBox.classList.add('active'); termsToggle.style.display='none'; });
    termsClose .addEventListener('click', ()=>{ termsBox.classList.remove('active'); termsToggle.style.display='inline-flex'; });

    /* Open/close: Benefits */
    const benefitsToggle = document.getElementById('benefitsToggle');
    const benefitsBox    = document.getElementById('benefitsBox');
    const benefitsClose  = document.getElementById('benefitsClose');
    benefitsToggle.addEventListener('click', ()=>{ benefitsBox.classList.add('active'); benefitsToggle.style.display='none'; });
    benefitsClose .addEventListener('click', ()=>{ benefitsBox.classList.remove('active'); benefitsToggle.style.display='inline-flex'; });

    /* ==== GOLD CALCULATOR LOGIC ==== */
    (function(){
      const rateInput   = document.getElementById('rateInput');
      const weightInput = document.getElementById('weightInput');
      const totalInput  = document.getElementById('totalInput');
      const resultValue   = document.getElementById('resultValue');
      const resultFormula = document.getElementById('resultFormula');
      const modeBtns = document.querySelectorAll('#goldBox .mode-btn');
      const quickBtns = document.querySelectorAll('#goldBox .quick-btn');

      let currentMode = 'total';

      function formatNumber(num){ return Number(num).toLocaleString('en-PH', { maximumFractionDigits: 0 }); }
      function formatDecimal(num, d=2){ return Number(num).toFixed(d); }

      function updateFieldStates(){
        rateInput.disabled = weightInput.disabled = totalInput.disabled = false;
        if (currentMode==='total') totalInput.disabled = true;
        if (currentMode==='weight') weightInput.disabled = true;
        if (currentMode==='rate') rateInput.disabled = true;
      }

      function calculate(){
        const rate = parseFloat(rateInput.value) || 0;
        const weight = parseFloat(weightInput.value) || 0;
        const total = parseFloat(totalInput.value) || 0;

        if (currentMode==='total'){
          const t = rate * weight;
          totalInput.value = Math.round(t);
          resultValue.textContent = '₱' + formatNumber(t);
          resultFormula.textContent = `₱${formatNumber(rate)} × ${weight}g = ₱${formatNumber(t)}`;
        } else if (currentMode==='weight'){
          const w = rate>0 ? total/rate : 0;
          weightInput.value = formatDecimal(w,2);
          resultValue.textContent = formatDecimal(w,2) + ' grams';
          resultFormula.textContent = `₱${formatNumber(total)} ÷ ₱${formatNumber(rate)}/g = ${formatDecimal(w,2)}g`;
        } else {
          const r = weight>0 ? total/weight : 0;
          rateInput.value = Math.round(r);
          resultValue.textContent = '₱' + formatNumber(r) + '/gram';
          resultFormula.textContent = `₱${formatNumber(total)} ÷ ${weight}g = ₱${formatNumber(r)}/g`;
        }
      }

      modeBtns.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          modeBtns.forEach(b=>b.classList.remove('active'));
          btn.classList.add('active');
          currentMode = btn.dataset.mode;
          updateFieldStates(); calculate();
        });
      });

      quickBtns.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          if (!weightInput.disabled){
            weightInput.value = btn.dataset.weight;
            calculate();
          }
        });
      });

      ['input'].forEach(evt=>{
        rateInput.addEventListener(evt, calculate);
        weightInput.addEventListener(evt, calculate);
        totalInput.addEventListener(evt, calculate);
      });

      updateFieldStates(); calculate();
    })();

    /* ==== LAYAWAY CALC LOGIC ==== */
    (function(){
      const priceInput = document.getElementById('priceInput');
      document.querySelectorAll('#layBox .btn[data-price]').forEach(b=>{
        b.addEventListener('click', ()=>{ priceInput.value = b.dataset.price; calcLayaway(); });
      });

      const optionCards = document.querySelectorAll('#layBox .option-card');
      optionCards.forEach(card=>{
        card.addEventListener('click', ()=>{
          optionCards.forEach(c=>c.classList.remove('selected'));
          card.classList.add('selected'); calcLayaway();
        });
      });

      const tiers = [
        { min: 1000, max: 2999, fee: 5 },   { min: 3000, max: 4999, fee: 10 },
        { min: 5000, max: 7499, fee: 15 },  { min: 7500, max: 9999, fee: 25 },
        { min: 10000, max: 14999, fee: 30 },{ min: 15000, max: 19999, fee: 45 },
        { min: 20000, max: 24999, fee: 60 },{ min: 25000, max: 29999, fee: 75 },
        { min: 30000, max: 39999, fee: 90 },{ min: 40000, max: 49999, fee: 120 },
        { min: 50000, max: 59999, fee: 150 },{ min: 60000, max: 74999, fee: 180 },
        { min: 75000, max: 89999, fee: 225 },{ min: 90000, max: 99999, fee: 270 },
        { min: 100000, max: 199999, fee: 300 },{ min: 200000, max: 999999999, fee: 600 }
      ];

      const el = id => document.getElementById(id);
      function calcLayaway(){
        const price = Math.max(0, parseFloat(priceInput.value)||0);
        const sel = document.querySelector('#layBox .option-card.selected');
        const isA = sel?.dataset.option === 'a';
        const feeRate = isA ? 0.05 : 0.10;
        const dpRate  = isA ? 0.50 : 0.20;

        const serviceFee = price * feeRate;
        const total = price + serviceFee;
        const down  = total * dpRate;
        const bal   = total - down;

        let daily = 0;
        for (const t of tiers){ if (price >= t.min && price <= t.max){ daily = t.fee; break; } }

        el('itemPrice').textContent     = peso(price);
        el('serviceFee').textContent    = peso(serviceFee);
        el('totalContract').textContent = peso(total);
        el('downPayment').textContent   = peso(down);
        el('balance').textContent       = peso(bal);
        el('dailyRate').textContent     = peso(daily);
        el('day30Late').textContent     = peso(daily*30);
        el('day60Late').textContent     = peso(daily*60);
        el('day90Late').textContent     = peso(daily*90);
      }
      priceInput.addEventListener('input', calcLayaway);
      calcLayaway();
    })();

    /* ==== Emerald & Gold Dust Background ==== */
    (function(){
      const canvas = document.getElementById('tgb-gold-dust');
      const ctx = canvas.getContext('2d');
      function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
      resize(); addEventListener('resize', resize);

      class Particle{
        constructor(first=false){ 
          this.reset(first);
          // Randomly choose between emerald and gold
          this.isEmerald = Math.random() > 0.5;
        }
        reset(first=false){
          this.x = Math.random() * canvas.width;
          this.y = first ? Math.random() * canvas.height : -10;
          this.r = Math.random() * 1.8 + 0.6;
          this.vx = Math.random() * 1.2 - 0.6;
          this.vy = Math.random() * 1.2 + 0.5;
          this.a  = Math.random() * 0.5 + 0.3;
          this.t  = Math.random() * Math.PI * 2;
        }
        step(){
          this.x += this.vx; 
          this.y += this.vy; 
          this.t += 0.04;
          if (this.y > canvas.height + 10 || this.x < -10 || this.x > canvas.width + 10) this.reset();
        }
        draw(){
          const op = Math.max(0, Math.min(1, this.a + Math.sin(this.t)*0.25));
          const g = ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.r*2.8);
          
          if (this.isEmerald) {
            g.addColorStop(0, `rgba(16, 185, 129, ${op})`);
            g.addColorStop(0.5,`rgba(6, 95, 70, ${op*0.7})`);
            g.addColorStop(1, `rgba(16, 185, 129, 0)`);
          } else {
            g.addColorStop(0, `rgba(244, 228, 193, ${op})`);
            g.addColorStop(0.5,`rgba(212, 175, 55, ${op*0.8})`);
            g.addColorStop(1, `rgba(212, 175, 55, 0)`);
          }
          
          ctx.fillStyle=g; 
          ctx.beginPath(); 
          ctx.arc(this.x,this.y,this.r*2.4,0,Math.PI*2); 
          ctx.fill();
        }
      }
      const particles = Array.from({length: 70}, ()=>new Particle(true));
      (function loop(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        particles.forEach(p=>{ p.step(); p.draw(); });
        requestAnimationFrame(loop);
      })();
    })();
  </script>
</body>
</html>
